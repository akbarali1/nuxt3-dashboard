import{A as d,B as m,C as h,D as w,b as g,E as S}from"./entry.0a322a8b.js";import{u as y}from"./index.d61401a8.js";const x=decodeURIComponent,C=encodeURIComponent,k=/; */,u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function E(e,o){if(typeof e!="string")throw new TypeError("argument str must be a string");let i={},t=o||{},r=e.split(k),s=t.decode||x;for(let n=0;n<r.length;n++){let a=r[n],p=a.indexOf("=");if(p<0)continue;let l=a.substr(0,p).trim(),c=a.substr(++p,a.length).trim();c[0]=='"'&&(c=c.slice(1,-1)),i[l]==null&&(i[l]=T(c,s))}return i}function f(e,o,i){let t=i||{},r=t.encode||C;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!u.test(e))throw new TypeError("argument name is invalid");let s=r(o);if(s&&!u.test(s))throw new TypeError("argument val is invalid");let n=e+"="+s;if(t.maxAge!=null){let a=t.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");n+="; Max-Age="+Math.floor(a)}if(t.domain){if(!u.test(t.domain))throw new TypeError("option domain is invalid");n+="; Domain="+t.domain}if(t.path){if(!u.test(t.path))throw new TypeError("option path is invalid");n+="; Path="+t.path}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");n+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(n+="; HttpOnly"),t.secure&&(n+="; Secure"),t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n}function T(e,o){try{return o(e)}catch{return e}}const b={path:"/",decode:e=>h(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function v(e,o){var s,n;const i={...b,...o},t=R(i)||{},r=d((n=t[e])!=null?n:(s=i.default)==null?void 0:s.call(i));return m(r,()=>{U(e,r.value,i)}),r}function R(e={}){return E(document.cookie,e)}function A(e,o,i={}){return o==null?f(e,o,{...i,maxAge:-1}):f(e,o,i)}function U(e,o,i={}){document.cookie=A(e,o,i)}const M=w((e,o)=>{const i=v("token"),t=y(),r=g().public.api_url;i.value||S().push("/login"),e.fullPath===o.fullPath&&D(i,t,r)});async function D(e,o,i){const t=await $fetch(i+"/user",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+e.value}});o.usersData=t}export{M as default};
